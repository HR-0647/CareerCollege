while(true) { //「１戦闘」のループ
    // イニシアチブ判定(１戦闘毎に変わるとき)
    $戦闘順番 = イニシアチブ決定($味方, $敵);

    //
    foreach($戦闘順番 as $攻撃者) { // 「１キャラクタ」のループ
        // 攻撃対象を選ぶ

        // 攻撃する
        攻撃($攻撃者, ???);
    }
}

